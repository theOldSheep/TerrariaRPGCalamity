

# 匹配界面名,hud为自动开启
# GuiInventory可以替换背包
# GuiIngameMenu可以替换ESC
# 或者直接填写箱子界面名称，即可替换箱子界面(颜色符号需写为§)
# PS：当你打开任意界面时，客户端的log内会提示本次打开的界面名哦
match: "GuiInventory"
hideHud:
  - "hotbar"
allowEscClose: true
interactHud: true # 可以看到血量/魔力提示

Functions:
  # 通过判断按键，异步执行下面的这个【延时关闭界面】，它会延时100毫秒后才关闭，延时的这段时间是用来做背包的关闭动画的
  # 判断的格式是  (条件)?{达成执行;}:{否则执行;};  如果没有否则执行  可以用0代替 写成 (条件)?{达成执行;}:0;
  # || 是或的意思，也就是说当 当前的按键为 E或ESC,就关闭界面   && 则是且的意思
  keyPress: "(方法.取当前按下键=='E' || 方法.取当前按下键=='ESCAPE')?{方法.关闭界面;}:0"

  # 界面开启之后会自动执行open，此时就可以开始更新变量啦
  open: "方法.异步执行方法('更新背包变量')"

  # 由于功能完全是在客户端实现的，所以客户端并不能直接知道变量的值，我们需要通过【方法.更新变量值】来向服务端同步变量值到客户端内
  # 文本内容需要用 ''包裹,不然mod无法识别这条公式
  更新背包变量: |-
    方法.更新变量值('terraria_defence','terraria_money','terraria_accessory_amount');
    方法.延时(1000);
    方法.异步执行方法('更新背包变量');

# 设置4个装备槽和副手槽
helmet_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-160"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('container_5'))) < 0.1 ? 'gui/slot_helmet.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
helmet_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-160"
  identifier: "container_5"
  drawBackground: false
chestplate_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-142"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('container_6'))) < 0.1 ? 'gui/slot_chestplate.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
chestplate_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-142"
  identifier: "container_6"
  drawBackground: false
leggings_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-124"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('container_7'))) < 0.1 ? 'gui/slot_leggings.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
leggings_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-124"
  identifier: "container_7"
  drawBackground: false
offhand_texture:
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-142"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('container_45'))) < 0.1 ? 'gui/slot_hook.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
offhand_slot:
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-142"
  identifier: "container_45"
  drawBackground: false
mount_texture:
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-124"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('mount'))) < 0.1 ? 'gui/slot_mount.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
mount_slot:
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-124"
  identifier: "mount"
  drawBackground: false
# 饰品
accessories_label:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-108"
  texts: "饰品"
accessory1_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-98"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory1'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory1_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-98"
  identifier: "accessory1"
  drawBackground: false
accessory2_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-80"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory2'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory2_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-80"
  identifier: "accessory2"
  drawBackground: false
accessory3_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-62"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory3'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory3_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-62"
  identifier: "accessory3"
  drawBackground: false
accessory4_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-44"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory4'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory4_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-44"
  identifier: "accessory4"
  drawBackground: false
accessory5_texture:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-26"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory5'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory5_slot:
  x: "方法.取屏幕宽度-32"
  y: "方法.取屏幕高度-26"
  identifier: "accessory5"
  drawBackground: false
accessory6_texture:
  visible: "方法.到整数(方法.取变量('terraria_accessory_amount')) > 5.5"
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-98"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory6'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory6_slot:
  visible: "方法.到整数(方法.取变量('terraria_accessory_amount')) > 5.5"
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-98"
  identifier: "accessory6"
  drawBackground: false
accessory7_texture:
  visible: "方法.到整数(方法.取变量('terraria_accessory_amount')) > 6.5"
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-80"
  width: 16
  height: 16
  texture: "方法.取文本长度(方法.取物品名(方法.取物品('accessory7'))) < 0.1 ? 'gui/slot_accessory.png' : 'gui/slot_accessory_full.png'"
  alpha: 0.9
accessory7_slot:
  visible: "方法.到整数(方法.取变量('terraria_accessory_amount')) > 6.5"
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-80"
  identifier: "accessory7"
  drawBackground: false

# 设置合成槽位
crafting_label:
  x: "24"
  y: "110"
  center: true
  texts: "合成"
crafting_texture:
  x: "18"
  y: "120"
  width: 12
  height: 12
  texture: "gui/slot_crafting.png"
crafting_slot:
  x: "18"
  y: "120"
  width: 12
  height: 12
  identifier: "container_0"
  drawBackground: false
  tip: "制作窗口"
# 防御
defence_texture:
  x: "方法.取屏幕宽度-50"
  y: "方法.取屏幕高度-40"
  width: 14
  height: 14
  texture: "gui/defence.png"
  tip: "方法.合并文本(方法.取变量('terraria_defence'), ' 防御力')"
defence_label:
  x: "方法.取屏幕宽度-43"
  y: "方法.取屏幕高度-37"
  center: true
  scale: 0.8
  texts: "方法.合并文本('&0&l', 方法.取变量('terraria_defence'))"
  tip: "方法.合并文本(方法.取变量('terraria_defence'), ' 防御力')"
# 背包
backpack_label:
  x: "17"
  y: "0"
  texts: "物品栏"
# 背包格子
inventory0_texture:
  x: 8.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory0_slot:
  x: 8.0
  y: 10.0
  identifier: inventory0
  drawBackground: false
inventory1_texture:
  x: 26.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory1_slot:
  x: 26.0
  y: 10.0
  identifier: inventory1
  drawBackground: false
inventory2_texture:
  x: 44.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory2_slot:
  x: 44.0
  y: 10.0
  identifier: inventory2
  drawBackground: false
inventory3_texture:
  x: 62.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory3_slot:
  x: 62.0
  y: 10.0
  identifier: inventory3
  drawBackground: false
inventory4_texture:
  x: 80.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory4_slot:
  x: 80.0
  y: 10.0
  identifier: inventory4
  drawBackground: false
inventory5_texture:
  x: 98.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory5_slot:
  x: 98.0
  y: 10.0
  identifier: inventory5
  drawBackground: false
inventory6_texture:
  x: 116.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory6_slot:
  x: 116.0
  y: 10.0
  identifier: inventory6
  drawBackground: false
inventory7_texture:
  x: 134.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory7_slot:
  x: 134.0
  y: 10.0
  identifier: inventory7
  drawBackground: false
inventory8_texture:
  x: 152.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory8_slot:
  x: 152.0
  y: 10.0
  identifier: inventory8
  drawBackground: false
inventory9_texture:
  x: 170.0
  y: 10.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory9_slot:
  x: 170.0
  y: 10.0
  identifier: inventory9
  drawBackground: false
inventory10_texture:
  x: 8.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory10_slot:
  x: 8.0
  y: 28.0
  identifier: inventory10
  drawBackground: false
inventory11_texture:
  x: 26.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory11_slot:
  x: 26.0
  y: 28.0
  identifier: inventory11
  drawBackground: false
inventory12_texture:
  x: 44.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory12_slot:
  x: 44.0
  y: 28.0
  identifier: inventory12
  drawBackground: false
inventory13_texture:
  x: 62.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory13_slot:
  x: 62.0
  y: 28.0
  identifier: inventory13
  drawBackground: false
inventory14_texture:
  x: 80.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory14_slot:
  x: 80.0
  y: 28.0
  identifier: inventory14
  drawBackground: false
inventory15_texture:
  x: 98.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory15_slot:
  x: 98.0
  y: 28.0
  identifier: inventory15
  drawBackground: false
inventory16_texture:
  x: 116.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory16_slot:
  x: 116.0
  y: 28.0
  identifier: inventory16
  drawBackground: false
inventory17_texture:
  x: 134.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory17_slot:
  x: 134.0
  y: 28.0
  identifier: inventory17
  drawBackground: false
inventory18_texture:
  x: 152.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory18_slot:
  x: 152.0
  y: 28.0
  identifier: inventory18
  drawBackground: false
inventory19_texture:
  x: 170.0
  y: 28.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory19_slot:
  x: 170.0
  y: 28.0
  identifier: inventory19
  drawBackground: false
inventory20_texture:
  x: 8.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory20_slot:
  x: 8.0
  y: 46.0
  identifier: inventory20
  drawBackground: false
inventory21_texture:
  x: 26.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory21_slot:
  x: 26.0
  y: 46.0
  identifier: inventory21
  drawBackground: false
inventory22_texture:
  x: 44.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory22_slot:
  x: 44.0
  y: 46.0
  identifier: inventory22
  drawBackground: false
inventory23_texture:
  x: 62.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory23_slot:
  x: 62.0
  y: 46.0
  identifier: inventory23
  drawBackground: false
inventory24_texture:
  x: 80.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory24_slot:
  x: 80.0
  y: 46.0
  identifier: inventory24
  drawBackground: false
inventory25_texture:
  x: 98.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory25_slot:
  x: 98.0
  y: 46.0
  identifier: inventory25
  drawBackground: false
inventory26_texture:
  x: 116.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory26_slot:
  x: 116.0
  y: 46.0
  identifier: inventory26
  drawBackground: false
inventory27_texture:
  x: 134.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory27_slot:
  x: 134.0
  y: 46.0
  identifier: inventory27
  drawBackground: false
inventory28_texture:
  x: 152.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory28_slot:
  x: 152.0
  y: 46.0
  identifier: inventory28
  drawBackground: false
inventory29_texture:
  x: 170.0
  y: 46.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory29_slot:
  x: 170.0
  y: 46.0
  identifier: inventory29
  drawBackground: false
inventory30_texture:
  x: 8.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory30_slot:
  x: 8.0
  y: 64.0
  identifier: inventory30
  drawBackground: false
inventory31_texture:
  x: 26.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory31_slot:
  x: 26.0
  y: 64.0
  identifier: inventory31
  drawBackground: false
inventory32_texture:
  x: 44.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory32_slot:
  x: 44.0
  y: 64.0
  identifier: inventory32
  drawBackground: false
inventory33_texture:
  x: 62.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory33_slot:
  x: 62.0
  y: 64.0
  identifier: inventory33
  drawBackground: false
inventory34_texture:
  x: 80.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory34_slot:
  x: 80.0
  y: 64.0
  identifier: inventory34
  drawBackground: false
inventory35_texture:
  x: 98.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory35_slot:
  x: 98.0
  y: 64.0
  identifier: inventory35
  drawBackground: false
inventory36_texture:
  x: 116.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory36_slot:
  x: 116.0
  y: 64.0
  identifier: inventory36
  drawBackground: false
inventory37_texture:
  x: 134.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory37_slot:
  x: 134.0
  y: 64.0
  identifier: inventory37
  drawBackground: false
inventory38_texture:
  x: 152.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory38_slot:
  x: 152.0
  y: 64.0
  identifier: inventory38
  drawBackground: false
inventory39_texture:
  x: 170.0
  y: 64.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory39_slot:
  x: 170.0
  y: 64.0
  identifier: inventory39
  drawBackground: false
inventory40_texture:
  x: 8.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory40_slot:
  x: 8.0
  y: 82.0
  identifier: inventory40
  drawBackground: false
inventory41_texture:
  x: 26.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory41_slot:
  x: 26.0
  y: 82.0
  identifier: inventory41
  drawBackground: false
inventory42_texture:
  x: 44.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory42_slot:
  x: 44.0
  y: 82.0
  identifier: inventory42
  drawBackground: false
inventory43_texture:
  x: 62.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory43_slot:
  x: 62.0
  y: 82.0
  identifier: inventory43
  drawBackground: false
inventory44_texture:
  x: 80.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory44_slot:
  x: 80.0
  y: 82.0
  identifier: inventory44
  drawBackground: false
inventory45_texture:
  x: 98.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory45_slot:
  x: 98.0
  y: 82.0
  identifier: inventory45
  drawBackground: false
inventory46_texture:
  x: 116.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory46_slot:
  x: 116.0
  y: 82.0
  identifier: inventory46
  drawBackground: false
inventory47_texture:
  x: 134.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory47_slot:
  x: 134.0
  y: 82.0
  identifier: inventory47
  drawBackground: false
inventory48_texture:
  x: 152.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory48_slot:
  x: 152.0
  y: 82.0
  identifier: inventory48
  drawBackground: false
inventory49_texture:
  x: 170.0
  y: 82.0
  width: 16
  height: 16
  texture: gui/slot.png
  alpha: 0.9
inventory49_slot:
  x: 170.0
  y: 82.0
  identifier: inventory49
  drawBackground: false

# ammunition
ammoslot_label:
  x: "201"
  y: "30"
  texts: "弹药"
  center: true
ammoslot1_texture:
  x: "188"
  y: "40"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot1_slot:
  x: "188"
  y: "40"
  width: "12"
  height: "12"
  identifier: "ammo1"
  drawBackground: false
ammoslot2_texture:
  x: "188"
  y: "54"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot2_slot:
  x: "188"
  y: "54"
  width: "12"
  height: "12"
  identifier: "ammo2"
  drawBackground: false
ammoslot3_texture:
  x: "188"
  y: "68"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot3_slot:
  x: "188"
  y: "68"
  width: "12"
  height: "12"
  identifier: "ammo3"
  drawBackground: false
ammoslot4_texture:
  x: "188"
  y: "82"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot4_slot:
  x: "188"
  y: "82"
  width: "12"
  height: "12"
  identifier: "ammo4"
  drawBackground: false
ammoslot5_texture:
  x: "202"
  y: "40"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot5_slot:
  x: "202"
  y: "40"
  width: "12"
  height: "12"
  identifier: "ammo5"
  drawBackground: false
ammoslot6_texture:
  x: "202"
  y: "54"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot6_slot:
  x: "202"
  y: "54"
  width: "12"
  height: "12"
  identifier: "ammo6"
  drawBackground: false
ammoslot7_texture:
  x: "202"
  y: "68"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot7_slot:
  x: "202"
  y: "68"
  width: "12"
  height: "12"
  identifier: "ammo7"
  drawBackground: false
ammoslot8_texture:
  x: "202"
  y: "82"
  width: "12"
  height: "12"
  texture: "gui/slot.png"
  alpha: 0.9
ammoslot8_slot:
  x: "202"
  y: "82"
  width: "12"
  height: "12"
  identifier: "ammo8"
  drawBackground: false
# 显示钱币
money_label:
  x: "8"
  y: "100"
  texts: "方法.合并文本('金钱: ', 方法.取变量('terraria_money'))"



